{% extends 'index.html' %}
{% load static %}

{% block body %}


<div class="container mt-5">
    <form class="dropzone dropzone-multiple p-0" id="my-awesome-dropzone" data-dropzone="data-dropzone">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label" for="uplode_title">Title</label>
            <input class="form-control" id="uplode_title" name="uplode_title" type="text" placeholder="Give a title" />
        </div>

        <div class="fallback">
            <input name="uplode_image" type="file" multiple="multiple" />
        </div>

        <div class="dz-message" data-dz-message="data-dz-message">
            <img class="me-2" src="{% static 'assets/img/icons/cloud-upload.svg' %}" width="25" alt="" />
            Drop your files here
        </div>

        <div class="dz-preview dz-preview-multiple m-0 d-flex flex-column">
            <div class="d-flex media mb-3 pb-3 border-bottom btn-reveal-trigger">
                <img class="dz-image" src="{% static 'assets/img/generic/image-file-2.png' %}" alt="..."
                    data-dz-thumbnail="data-dz-thumbnail" />
                <div class="flex-1 d-flex flex-between-center">
                    <div>
                        <h6 data-dz-name="data-dz-name"></h6>
                        <div class="d-flex align-items-center">
                            <p class="mb-0 fs--1 text-400 lh-1" data-dz-size="data-dz-size"></p>
                            <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress=""></span></div>
                        </div><span class="fs--2 text-danger" data-dz-errormessage="data-dz-errormessage"></span>
                    </div>
                    <div class="dropdown font-sans-serif">
                        <button class="btn btn-link text-600 btn-sm dropdown-toggle btn-reveal dropdown-caret-none"
                            type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span
                                class="fas fa-ellipsis-h"></span></button>
                        <div class="dropdown-menu dropdown-menu-end border py-2"><a class="dropdown-item" href="#!"
                                data-dz-remove="data-dz-remove">Remove File</a></div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <button type="button" class="btn btn-primary" id="upload-button">Submit</button>
        </div>
    </form>

    <div id="upload-progress" class="progress" style="display: none;">
        <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
            0%
        </div>
    </div>
</div>







<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.2/min/dropzone.min.js"></script>
<script>
    // Wrap your Dropzone initialization in a function to prevent reinitialization
    function initializeDropzone() {
        Dropzone.autoDiscover = false;
        var myDropzone = new Dropzone("#my-awesome-dropzone", {
            autoProcessQueue: false, // Disable automatic upload
            parallelUploads: 1, // Upload one file at a time
        });

        myDropzone.on("addedfile", function (file) {
            // Start the upload when a file is added
            myDropzone.processFile(file);
        });

        myDropzone.on("uploadprogress", function (file, progress, bytesSent) {
            var progressBar = document.getElementById("progress-bar");
            progressBar.style.width = progress + "%";
            progressBar.innerText = progress + "%";
        });

        myDropzone.on("success", function (file, response) {
            alert(response.message);
        });

        myDropzone.on("error", function (file, errorMessage) {
            alert(errorMessage);
        });

        document.getElementById("upload-button").addEventListener("click", function () {
            myDropzone.processQueue();
            document.getElementById("upload-progress").style.display = "block";
        });
    }

    // Check if Dropzone is already attached to the element
    if (typeof Dropzone.instances[0] === 'undefined') {
        // If it's not attached, initialize Dropzone
        initializeDropzone();
    }
</script> -->




{% endblock body %}